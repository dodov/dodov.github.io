{"version":3,"sources":["webpack:///1.1d82a44336141ed7c0f7.js","webpack:///./src/views/Announced.vue","webpack:///Announced.vue","webpack:///./src/views/Announced.vue?7ece"],"names":["webpackJsonp","41","module","exports","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","default","__vue_options__","options","template","computed","Object","keys","forEach","key","42","43","$","_interopRequireDefault","obj","defineProperty","value","_Header","_Header2","_Loading","_Loading2","data","lists","page","scroll","loading","route","transition","self","this","getAjaxData","window","on","getScrollData","deactivate","off","next","ready","methods","ajax","type","url","dataType","success","json","appW","document","querySelector","style","width","retcode","jsonData","rows","i","length","imgwh","concat","totalheight","parseFloat","height","scrollTop","runtime","el","timer","components","appheader","Loading","call","44"],"mappings":"AAAAA,cAAc,EAAE,KAEVC,GACA,SAASC,EAAQC,EAASC,GCHhC,GAAAC,GAAAC,EACAC,IACAH,GAAA,IACAC,EAAAD,EAAA,IACAE,EAAAF,EAAA,IACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAK,aAAAN,EAAAC,QAAAD,EAAAC,QAAAM,QACA,IAAAC,GAAA,kBAAAR,GAAAC,QAAAD,EAAAC,QAAAQ,UAAAT,EAAAC,QAAAQ,YAAoHT,EAAAC,OACpHG,KACAI,EAAAE,SAAAN,GAEAI,EAAAG,WAAAH,EAAAG,aACAC,OAAAC,KAAAR,GAAAS,QAAA,SAAAC,GACA,GAAAf,GAAAK,EAAAU,EACAP,GAAAG,SAAAI,GAAA,WAA6C,MAAAf,ODWvCgB,GACA,SAAShB,EAAQC,KAMjBgB,GACA,SAASjB,EAAQC,EAASC,IAEH,SAASgB,GAAI,YAczC,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAId,WAAac,GAAQb,QAASa,GAZvFR,OAAOS,eAAepB,EAAS,cAC3BqB,OAAO,GEaZ,IAAAC,GAAArB,EAAA,IFRKsB,EAAWL,EAAuBI,GEWvCE,EAAAvB,EAAA,IFPKwB,EAAYP,EAAuBM,EAIvCxB,GAAQM,SACJoB,KAAM,WACF,OACIC,SACAC,KEIb,EFHaC,QEIb,EFHaC,SEKb,IFDKC,OACIL,KAAM,SAAcM,GAChB,GAAIC,GEIjBC,IFHaD,GAAKE,YEKlBH,GFHaf,EAAEmB,QAAQC,GAAG,SAAU,SAAUL,GAC7BC,EAAKK,cEItBN,MFDSO,WAAY,SAAoBP,GAC5B,GAAIC,GEIjBC,IFHaD,GAAKN,SACLM,EAAKL,KEIlB,EFHaX,EAAEmB,QAAQI,IEIvB,UFHaR,EEIbS,SFDKC,MAAO,aAEPC,SACIR,YAAa,SAAqBH,GAC9B,GAAIC,GEOjBC,IFNajB,GAAE2B,MACEC,KEOjB,MFNiBC,IEOjB,2BFNiBpB,QACAqB,SEOjB,OFNiBC,QAAS,SAAiBC,GACtBhB,EAAKH,SEO1B,EFNqBG,EAAKJ,QEO1B,CFNqB,IAAIqB,GAAOC,SAASC,cAAc,QAAQC,MEO/DC,KFNqB,IAAoB,GAAhBL,EAAKM,QEO9B,CFLyB,IAAK,GADDC,GAAWP,EAAKvB,KEO7C+B,KFNkCC,EAAI,EAAGA,EAAIF,EAASG,OAAQD,IACjCF,EAASE,GAAGE,MAAQV,EAAO,EEOxD,EFL2C,KAAdjB,EAAKL,KACLK,EAAKN,MEOlC6B,EFL6BvB,EAAKN,MAAQM,EAAKN,MAAMkC,OEOrDL,QFASlB,cAAe,SAAuBN,GAClC,GAAIC,GEcjBC,IFba,IAAID,EAAKJ,OEetB,CFbiB,GAAIiC,GAAcC,WAAW9C,EAAEmB,QAAQ4B,UAAYD,WAAW9C,EAAEmB,QEcjF6B,YFbqBhD,GAAEkC,UAAUa,UAAYF,EAAc,MACtC7B,EAAKJ,QEc1B,EFbqBI,EEgBrBL,OFdyBK,EAAKL,MAAQ,GACbK,EAAKE,YEgB9BH,MFXSkC,QAAS,SAAiBC,EAAIC,MAElCC,YE+CLC,UAAA/C,EAAAjB,QAEAiE,QAAA9C,EAAAnB,YF5C8BkE,KAAKxE,EAASC,EAAoB,MAI1DwE,GACA,SAAS1E,EAAQC,GGtIvBD,EAAAC,QAAA","file":"1.1d82a44336141ed7c0f7.js","sourcesContent":["webpackJsonp([1,18],{\n\n/***/ 41:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__webpack_require__(42)\n\t__vue_script__ = __webpack_require__(43)\n\t__vue_template__ = __webpack_require__(44)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ },\n\n/***/ 42:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 43:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _Header = __webpack_require__(11);\n\t\n\tvar _Header2 = _interopRequireDefault(_Header);\n\t\n\tvar _Loading = __webpack_require__(15);\n\t\n\tvar _Loading2 = _interopRequireDefault(_Loading);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            lists: [],\n\t            page: 1,\n\t            scroll: true,\n\t            loading: true\n\t        };\n\t    },\n\t\n\t    route: {\n\t        data: function data(transition) {\n\t            var self = this;\n\t            self.getAjaxData(transition);\n\t\n\t            $(window).on('scroll', function (transition) {\n\t                self.getScrollData(transition);\n\t            });\n\t        },\n\t        deactivate: function deactivate(transition) {\n\t            var self = this;\n\t            self.lists = [];\n\t            self.page = 1;\n\t            $(window).off('scroll');\n\t            transition.next();\n\t        }\n\t    },\n\t    ready: function ready() {},\n\t\n\t    methods: {\n\t        getAjaxData: function getAjaxData(transition) {\n\t            var self = this;\n\t            $.ajax({\n\t                type: \"GET\",\n\t                url: '../../src/data/list.json',\n\t                data: {},\n\t                dataType: \"json\",\n\t                success: function success(json) {\n\t                    self.loading = false;\n\t                    self.scroll = true;\n\t                    var appW = document.querySelector(\"#app\").style.width;\n\t                    if (json.retcode == 1) {\n\t                        var jsonData = json.data.rows;\n\t                        for (var i = 0; i < jsonData.length; i++) {\n\t                            jsonData[i].imgwh = appW / 2 - 20;\n\t                        }\n\t                        if (self.page === 1) {\n\t                            self.lists = jsonData;\n\t                        } else {\n\t                            self.lists = self.lists.concat(jsonData);\n\t                        }\n\t                    }\n\t                }\n\t            });\n\t        },\n\t\n\t        getScrollData: function getScrollData(transition) {\n\t            var self = this;\n\t            if (self.scroll) {\n\t\n\t                var totalheight = parseFloat($(window).height()) + parseFloat($(window).scrollTop());\n\t                if ($(document).height() <= totalheight + 200) {\n\t                    self.scroll = false;\n\t                    self.page++;\n\t\n\t                    if (self.page <= 3) {\n\t                        self.getAjaxData(transition);\n\t                    }\n\t                }\n\t            }\n\t        },\n\t        runtime: function runtime(el, timer) {}\n\t    },\n\t    components: {\n\t        appheader: _Header2.default,\n\t        Loading: _Loading2.default\n\t    }\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(10)))\n\n/***/ },\n\n/***/ 44:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=indiana> <appheader title=最新揭晓></appheader> <section class=announced-container v-if=!loading> <ul class=floatBox> <li v-for=\\\"item in lists\\\"> <a v-link=\\\"{name:'goods',query:{id:item.id}}\\\"> <img v-lazy=item.cover :style=\\\"{ width:item.imgwh +'px',height:item.imgwh +'px' }\\\"> <div class=info> <p class=\\\"title nowrap\\\">{{item.title}}</p> <p class=issue>期号：{{item.periods}}</p> <div class=msg v-if=\\\"item.caipiaotype == 2\\\"> <span class=txt v-for=\\\"(key, val) in item.wuser | jsonFormat\\\"> <label v-if=\\\"key == 'nickname'\\\">获得者：</label> <label v-if=\\\"key == 'buycount'\\\">参与人次：</label> <label v-if=\\\"key == 'bingocode'\\\">幸运号码：</label> {{val}} </span> <span class=txt>揭晓时间：{{item.publishtime | timeago }}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 1\\\"> <span class=\\\"btn reds\\\">即将揭晓</span> <span class=time id={{item.id}}>{{runtime(item.id,item.downtime)}}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 0\\\"> <span class=\\\"btn greens\\\">正在揭晓</span> <span class=time id={{item.id}} ->{{item.downtime }}</span> </div> </div> </a> </li> </ul> </section> <loading :show=loading></loading> </div> \";\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.1d82a44336141ed7c0f7.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\nrequire(\"!!./../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/style-rewriter.js!sass-loader?sourceMap!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=style&index=0!./Announced.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=script&index=0!./Announced.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/.8.5.4@vue-loader/lib/selector.js?type=template&index=0!./Announced.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Announced.vue\n// module id = 41\n// module chunks = 1","<template>\r\n\r\n    <div class=\"indiana\"> \r\n\r\n        <!-- 头部 -->\r\n        <appheader title=\"最新揭晓\"></appheader>\r\n\r\n        <!-- 列表区 -->\r\n        <section class=\"announced-container\" v-if=\"!loading\">\r\n            <ul class=\"floatBox\">\r\n                <li v-for=\"item in lists\" >\r\n                  <a v-link=\"{name:'goods',query:{id:item.id}}\">\r\n                     <img v-lazy=\"item.cover\" :style=\"{ width:item.imgwh +'px',height:item.imgwh +'px' }\" >\r\n                     <div class=\"info\">\r\n                        <p class=\"title nowrap\">{{item.title}}</p>\r\n                        <p class=\"issue\">期号：{{item.periods}}</p>\r\n                        <div class=\"msg\" v-if=\"item.caipiaotype == 2\">\r\n                            <span class=\"txt\" v-for=\"(key, val) in item.wuser | jsonFormat\" >\r\n                                <label v-if=\"key == 'nickname'\">获得者：</label>\r\n                                <label v-if=\"key == 'buycount'\">参与人次：</label>\r\n                                <label v-if=\"key == 'bingocode'\">幸运号码：</label>\r\n                                {{val}}\r\n                            </span>\r\n                            <span class=\"txt\">揭晓时间：{{item.publishtime | timeago }}</span>\r\n                        </div>\r\n\r\n                        <div class=\"msg\" v-if=\"item.caipiaotype == 1\">\r\n                            <span class=\"btn reds\">即将揭晓</span>\r\n                            <span class=\"time\" id=\"{{item.id}}\">{{runtime(item.id,item.downtime)}}</span>\r\n                        </div>\r\n\r\n                        <div class=\"msg\" v-if=\"item.caipiaotype == 0\">\r\n                            <span class=\"btn greens\">正在揭晓</span>\r\n                            <span class=\"time\" id=\"{{item.id}}\" ->{{item.downtime }}</span>\r\n                        </div>\r\n                      </div>\r\n                    </a>\r\n                </li>\r\n  \r\n            </ul>\r\n        </section>\r\n\r\n        <!-- Loading -->\r\n        <loading :show=\"loading\"></loading>\r\n\r\n   </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n    import appheader from './common/Header.vue';\r\n    import Loading      from  '../components/Loading.vue';\r\n    \r\n    export default {\r\n        data() {\r\n         return{\r\n           lists:[],\r\n           page        :   1,        //当前页数\r\n           scroll      :   true,     //用于判断是否滚动\r\n           loading     :   true\r\n         }\r\n        },\r\n        route:{\r\n\r\n          data (transition) {\r\n            var self = this;\r\n            self.getAjaxData(transition);\r\n            //滚动加载\r\n            $(window).on('scroll', (transition) => {\r\n                self.getScrollData(transition);\r\n            });\r\n          },\r\n          deactivate (transition){\r\n             var self = this;\r\n             self.lists = [];\r\n             self.page = 1;\r\n             $(window).off('scroll');\r\n             transition.next();\r\n          }\r\n\r\n        },\r\n        ready(){\r\n        },\r\n        methods:{\r\n\r\n            //请求数据\r\n            getAjaxData:function(transition){\r\n                var self = this;\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    url:'../../src/data/list.json',\r\n                    data:{},\r\n                    dataType:\"json\",\r\n                    success :function(json){\r\n                        self.loading = false;\r\n                        self.scroll  = true;\r\n                        let appW = document.querySelector(\"#app\").style.width \r\n                        if(json.retcode==1){\r\n                            let jsonData = json.data.rows;\r\n                            for (var i = 0; i < jsonData.length; i++) {\r\n                                jsonData[i].imgwh = appW/2-20;\r\n                            }\r\n                            if (self.page === 1) {\r\n                               self.lists = jsonData\r\n                            }else{\r\n                                self.lists = self.lists.concat(jsonData);\r\n                            }\r\n                            // transition.next(function(){\r\n                                // setTimeout(function(){\r\n                                //    self.shoplist = self.shoplist.concat(json.data.rows);\r\n                                // },300)\r\n                               \r\n                            // });\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n\r\n             //滚动加载数据\r\n            getScrollData (transition){\r\n                let self = this;\r\n                if(self.scroll){\r\n    \r\n                    let totalheight = parseFloat($(window).height()) + parseFloat($(window).scrollTop());\r\n                    if ($(document).height() <= totalheight + 200) {\r\n                         self.scroll = false;\r\n                         self.page++;\r\n                        \r\n\r\n                         if(self.page <= 3){\r\n                              // console.log(self.page);\r\n                           self.getAjaxData(transition)\r\n                         }\r\n                    }\r\n                }\r\n            },\r\n\r\n            //倒计时\r\n            runtime(el,timer){\r\n\r\n            //     let timestamp = timer;\r\n            //     let isInter;\r\n\r\n            //     function interval(){\r\n            //       if(timestamp<=0){\r\n            //         console.count();\r\n            //         clearInterval(isInter);\r\n            //         $('#'+el).text(\"正在计算中，请稍等...\");\r\n            //         return;\r\n            //       }\r\n\r\n            //       let hm = Math.floor(timestamp % 1000 /10);\r\n            //       let sec = Math.floor(timestamp / 1000 % 60);\r\n            //       let mini = Math.floor(timestamp / (60*1000));\r\n\r\n            //       hm = hm < 10 ? \"0\" + hm : hm;\r\n            //       sec = sec < 10 ? \"0\" + sec : sec;\r\n            //       mini = mini < 10 ? \"0\" + mini : mini;\r\n            //       let text = mini + \":\" + sec + \":\" + hm;\r\n\r\n            //       setTimeout(interval, 1);\r\n            //       $('#'+el).text(text);\r\n            //       timestamp--;\r\n            //     }\r\n\r\n            //     isInter = setInterval(interval, 1000);\r\n            }\r\n        },\r\n        components:{\r\n           appheader,\r\n           Loading\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style lang=\"sass\" >\r\n\r\n.indiana{\r\n    bottom:55px;\r\n}\r\n\r\n.floatBox{\r\n    >li:nth-child(even){\r\n      &:after {\r\n          content: \" \";\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          width: 1px;\r\n          height: 100%;\r\n          border-right: 1px solid #d9d9d9;\r\n          color: #d9d9d9;\r\n          -webkit-transform-origin: 0 0;\r\n          transform-origin: 0 0;\r\n          -webkit-transform: scaleX(.5);\r\n          transform: scaleX(.5);\r\n          left: 0;\r\n      }\r\n    }\r\n    >li{\r\n      position: relative;\r\n      width: 50%;\r\n      -webkit-box-sizing: border-box;\r\n      -ms-box-sizing: border-box;\r\n      -o-box-sizing: border-box;\r\n      box-sizing: border-box;\r\n      float: left;\r\n\r\n\r\n      &:before {\r\n          content: \" \";\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          width: 100%;\r\n          height: 1px;\r\n          border-top: 1px solid #d9d9d9;\r\n          color: #d9d9d9;\r\n          -webkit-transform-origin: 0 0;\r\n          transform-origin: 0 0;\r\n          -webkit-transform: scaleY(.5);\r\n          transform: scaleY(.5);\r\n          left: 0;\r\n      }\r\n\r\n      a{\r\n        display: block;\r\n        color: #333;\r\n        background: #fff;\r\n        padding: 10px;\r\n      }\r\n     img{\r\n      width: 100%;min-height:125px;\r\n     }\r\n     .info{\r\n       background: #fff;\r\n      .title{\r\n        font-size: 14px;line-height: 1.4;\r\n      }\r\n      .issue{\r\n        font-size: 12px;\r\n      }\r\n      \r\n      .msg{\r\n        height:60px;\r\n        .time{\r\n          display: block;\r\n          font-weight: 600;\r\n          font-size: 18px;\r\n          margin-top: 5px;\r\n        }\r\n\r\n        .btn{\r\n          position: relative;\r\n          display: inline-block;\r\n          border-style: solid;\r\n          border-width: 1px;\r\n          width: 65px;\r\n          padding:2px 0;\r\n          font-size: 12px;\r\n          text-align: center;\r\n          border-radius: 3px;\r\n        }\r\n\r\n        .btn.reds{\r\n           color:#ff6666;\r\n           border-color:#ff6666;\r\n        }\r\n        .btn.greens{\r\n           color:#39b939;\r\n           border-color:#39b939;\r\n        }\r\n\r\n        .match{\r\n          display: block;\r\n          font-weight: 600;\r\n          line-height: 25px;\r\n        }\r\n        .txt{\r\n          display:block;\r\n          font-size: 12px;\r\n          line-height: 1.2;\r\n        }\r\n      }\r\n     }\r\n    } \r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// Announced.vue?69d026a0","module.exports = \" <div class=indiana> <appheader title=最新揭晓></appheader> <section class=announced-container v-if=!loading> <ul class=floatBox> <li v-for=\\\"item in lists\\\"> <a v-link=\\\"{name:'goods',query:{id:item.id}}\\\"> <img v-lazy=item.cover :style=\\\"{ width:item.imgwh +'px',height:item.imgwh +'px' }\\\"> <div class=info> <p class=\\\"title nowrap\\\">{{item.title}}</p> <p class=issue>期号：{{item.periods}}</p> <div class=msg v-if=\\\"item.caipiaotype == 2\\\"> <span class=txt v-for=\\\"(key, val) in item.wuser | jsonFormat\\\"> <label v-if=\\\"key == 'nickname'\\\">获得者：</label> <label v-if=\\\"key == 'buycount'\\\">参与人次：</label> <label v-if=\\\"key == 'bingocode'\\\">幸运号码：</label> {{val}} </span> <span class=txt>揭晓时间：{{item.publishtime | timeago }}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 1\\\"> <span class=\\\"btn reds\\\">即将揭晓</span> <span class=time id={{item.id}}>{{runtime(item.id,item.downtime)}}</span> </div> <div class=msg v-if=\\\"item.caipiaotype == 0\\\"> <span class=\\\"btn greens\\\">正在揭晓</span> <span class=time id={{item.id}} ->{{item.downtime }}</span> </div> </div> </a> </li> </ul> </section> <loading :show=loading></loading> </div> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.2.3@vue-html-loader!./~/.8.5.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/Announced.vue\n// module id = 44\n// module chunks = 1"],"sourceRoot":""}